<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Scraping With Mongoose</title>
    <style>
      body { background-color: lightblue }
      #wrapper {
        width: 960px;
        margin-left: auto;
        margin-right: auto;
        padding-top: 5%;
      }
      #articles {
        display: inline-block;
        overflow: auto;
        width: 60%;
        height: 700px;
      }
      #notes {
        float: right;
        width: 30%;
      }
      textarea, input {
        display: block;
        width: 100%;
        background-color: #FCF5C7;
      }
      input {
        height: 36px;
        font-size: 24px;
      }
      textarea {
        height: 200px;
        font-size: 18px;
      }
    </style>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/4.0.0/materia/bootstrap.min.css">
  <link href="https://fonts.googleapis.com/css?family=Cormorant+SC" rel="stylesheet">
  

  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
      <a class="navbar-brand" href="/">CNN Scraper - A Mongo Scrape Application</a>
      <button class="navbar-toggler collapsed" data-toggle="collapse" data-target="#navbarColor01" aria-controls="navbarColor01" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
    
      <div class="navbar-collapse collapse" id="navbarColor01" aria-expanded="false" style="height: 0px;">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item active">
            <!-- <a class="nav-link" href="/">Home
              <span class="sr-only">(current)</span>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/saved">Saved Articles</a>
          </li> -->
          <li class="nav-item">
            <a class="btn btn-danger scrape-new">SCRAPE NEW ARTICLES!</a>
          </li>
          <!-- <li class="nav-item">
            <a class="btn btn-danger clear">CLEAR ARTICLES!</a>
          </li> -->
        </ul>
      </div>
    </nav>
    
    <div id="wrapper">
      <!-- <h1>Fit To Scrape</h1> -->
      <h2><i>CNN News Articles</i></h2>
      <div id="articles"></div>
      <div id="notes"></div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootbox.js/4.4.0/bootbox.min.js"></script>
    <script src="app.js"></script>

    <script>
          $(document).on("click", ".scrape-new", handleArticleScrape);

          function handleArticleScrape() {
  // This function handles the user clicking any "scrape new article" buttons
  $.get("/scrape").then(function(data) {
    // If we are able to successfully scrape the NYTIMES and compare the articles to those
    // already in our collection, re render the articles on the page
    // and let the user know how many unique articles we were able to save
    initPage();
    bootbox.alert($("<h3 class='text-center m-top-80'>").text(data.message));
  });
}


    </script>



  </body>
</html>
